<!DOCTYPE html>
<!--
   COLLABORATORS:
   keren gu
   katie bartel
   
  -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>StoryTime</title>
    <link type="text/css" href="style/parent-library.css" rel="stylesheet" />
    <script type="text/javascript" src="external_js/jquery-1.9.0.min.js"></script>


    <script type = "text/javascript">
    var hIncr;
    var vIncr;
    function createDescriptionView(){
      boardSize = 2.5;
      var incr = 600/boardSize;
      var hIncr = incr;
      var vIncr = incr;
    }


    function createGridView(perRow){

      tableButton = document.getElementById("btnTableView");
      gridButton = document.getElementById("btnGridView");
      gridButton.disabled = true;
      tableButton.disabled = false;
      hIncr = 700/perRow;
      //vIncr = 600/boardSize*1.2;
      vIncr = hIncr * 5 /3;
      var book = 1;
      for(var i = 0; i < 12/perRow; i ++){
          for(var j = 0; j < perRow; j++){
              add(book.toString(),i,j);
              book++;
          }
      }
    }

    function add(name, row, col){
      var body = document.getElementById('column-right');
      var img = setImage(name, hIncr, vIncr);
      img.style.position = "absolute";
      img.style.left = 70+col*vIncr + "px";
      img.style.top = 10+row*hIncr*1.7 + "px";
      body.appendChild(img);
    }

    function setImage(name, hIncr, vIncr){
     // console.log(name);
      var img = document.createElement("img");
      img.src = '../graphics/'+name+".jpeg";
    
      img.style.width = hIncr+"px";
      img.style.height = "auto";
      img.style.zIndex = "1";
      img.setAttribute("id",name)
      img.setAttribute("draggable",false);
    
      //console.log(hIncr, vIncr);
      //console.log(img);
      return img;
    }

    function createRowView(){

      tableButton = document.getElementById("btnTableView");
      gridButton = document.getElementById("btnGridView");
      gridButton.disabled = false;
      tableButton.disabled = true;
      boardSize = 2.5;
      var incr = 600/boardSize;
      var hIncr = incr;
      var vIncr = incr;
     // console.log(vIncr,hIncr);
      var body = document.getElementById('column-right');

      var tbl = document.createElement("table");
      var tblBody = document.createElement("tbody");

      tbl.setAttribute('border', '0');

      for (var j = 0; j <= 11; j++){
        var row = document.createElement("tr");
        for (var i = 0; i < 2; i++){
          var cell = document.createElement("td");
          if(i==0){
            var img = setImage((j+1).toString(), hIncr,vIncr);
            //console.log(img);
            cell.appendChild(img);
          }else{
            var cellText = document.createTextNode("The Giving Tree is a children's picture book written and illustrated by Shel Silverstein. First published in 1964 by Harper & Row, it has become one of Silverstein's best known titles and has been translated into numerous languages. Some argue that the popularity of the book is due to the romantic relationship between the child and the tree. However, others are of the opinion that such a relationship should not be portrayed to children at such a young age, for fear that they will join the gays.  Research has shown that this fear is unfounded, as tree lovers have an equal occurence of homosexuality as the general population."); 
            cell.appendChild(cellText);
            cell.style.width = "800px";
          }
          row.appendChild(cell);
        }

        tbl.appendChild(row);
      }
      tbl.appendChild(tblBody);
      body.appendChild(tbl);
      tbl.setAttribute("border","2");
      tbl.style.position = "absolute";
      tbl.style.top = "25px";
      tbl.style.left = "25px";


    }

    

    $(document).ready(function() {

      createGridView(3);
      //createRowView();
     
      $('.imgContain').on("click","a,img", function (e) {
        var id = e.target.getAttribute('id');
        e.preventDefault();
        //alert('You Clicked On Book '+id);
        window.location.href = 'recording.html'
      });

      $('#column-left').on("click","a,img", function (e) {
        var id = e.target.getAttribute('id');
        var label = e.target;
        var oldLabel = document.getElementsByClassName("active")[0]
        oldLabel.style.color = "grey";
        oldLabel.className = "";
        label.style.color = "#eee";
        label.className = "active";
        e.preventDefault();
        //window.location.href = 'Book.html'
      });

      $("#btnGridView").click(function(evt){
        console.log("viewing Grid!")
        $(".imgContain").empty();
        createGridView(3);
        consle.log("viewing grid!");
      });

      $("#btnTableView").click(function(evt){
        console.log("viewing Table!")
        $(".imgContain").empty();
        createRowView();
        consle.log("viewing table!");
      });

    });
    </script>
  </head>
  
  <body>
    <div id="wrapper"> 
        <div id="header" class = "title">
          <a href="home.html" style="text-decoration:none">
            <input id="homepage" class="button" type="button" value="Exit Library"/>
          </a>
          <input id="btnGridView" class="button" type="button" value="View Grid"/>
          <input id="btnTableView" class="button" type="button" value="View Table"/>
        </div>
        <div id="column-left">
            <ul>
                <span id = "search"><label> Search </label> <input type = "text" name = "search"></span>
                <li class = "section" id = "library"><a href = "#">My Library</a></li>
                <div id = "library-contents">
                    <ul>
                        <li><a href = "#" id = "dogs">Dogs</a></li>
                        <li><a href = "#" id = "nature">Nature</a></li>
                        <li class = "active" id = "robots"><a href = "#">Robots</a></li>
                        <li><a href = "#" id = "dragons">Dragons</a></li>
                    </ul> 
                </div>
                <li class = "section"><a href = "#">Discover More Books</a></li>
                <li id = "new-list"><a href = "#">+ New Reading List</a></li>
            </ul>
        </div>
        <div id="column-center">
            <p>  </p>
        </div>
        <div id="column-right" class = "imgContain">
        </div>
        
    </div>

  </body>
</html>
